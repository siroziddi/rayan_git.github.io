(function(a){function e(a,c){c=c||b;var e=a.split("."),f,g=e.length;for(f=0;f<g;f++){a=e[f];if(c==b&&(a=="travelline"||a=="TL"))continue;var i=c[a];if(!i||!(i instanceof d))c[a]=new d,i&&h(c[a],i);c=c[a]}return c}function f(a,b){function d(){this.constructor=a}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a.__super__.constructor=b,a}function g(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];if(c&&typeof c=="object")for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])}return a}function h(a,b){if(b)for(var c in b)!a.hasOwnProperty(c)&&b.hasOwnProperty(c)&&(a[c]=b[c]);return a}var b=a.TL||a.travelline;if(b&&b._NS&&b instanceof b._NS)return;var c=Array.prototype.slice,d=function(){};d.prototype={extend:function(){var a=[this].concat(c.call(arguments,0));return g.apply(this,a)},define:function(a){return e(a,this)}},b=h(new d,b),b.ns=b.define,b._extends=f,b._NS=d,a.travelline=a.TL=b})(window),function(a){function e(a){return typeof a=="function"}function f(a,g){if(c[a]==null){if(!b[a]){if(e(g)){d[a]=d[a]||[],d[a].push(g);return}throw new Error("TL module with name '"+a+"' not defined")}if(e(b[a])){var h={},i={exports:h},j=b[a](f,h,i);j==null&&(j=i.exports),c[a]=j}else c[a]=b[a]}return e(g)&&g(c[a]),c[a]}function g(a,c){if(b[a])throw new Error("TL module with name '"+a+"' already defined");b[a]=c;if(d[a]){for(var e=d[a],f=0;f<e.length;f++)e[f](c);delete d[a]}}if(a.modules)return;var b={},c={},d={};a.modules={define:g,run:function(a,b){return a.apply(null,[f].concat(b))}}}(TL);;

(function(a,b){function u(a){var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(n.search);return c?q(c[1]):null}function v(a){if(a&&e.length&&(!p||f)){var b=o+"//"+e[r];return r=(r+1)%e.length,b}return o+"//"+i}function w(b,c){if(!a.history||!a.history.pushState)return;if(typeof c=="object")return;var d=a.location.href;if(typeof c=="undefined"||c==null||c===!1)d=d.replace(new RegExp("[?&]"+b+"=[^&#]*(#.*)?$"),"$1").replace(new RegExp("([?&])"+b+"=[^&]*&"),"$1");else{var e=new RegExp("\\b("+b+"=).*?(&|#|$)");d.search(e)>=0?d=d.replace(e,"$1"+c+"$2"):(d=d.replace(/[?#]$/,""),d=d+(d.indexOf("?")>0?"&":"?")+b+"="+c)}a.history.pushState("","",d)}function x(){var a="tl-container-"+s++;return m.write('<div id="'+a+'"></div>'),m.getElementById(a)}function y(a){for(var b=0;b<g.length;b++)if(g[b]==a.split(":")[0])return!0;return!1}function z(a){var b=m.createElement("script");b.type="text/javascript",b.async=!0,b.src=a;var c=m.getElementsByTagName("head")[0]||m.getElementsByTagName("body")[0];c.appendChild(b)}function A(a){a&&!a.container&&(a.container=x(),a.no_container=!0)}function B(a,c){a&&b.integration.__cq.push(["setContext",a,c])}function C(a,c){arguments.length==1&&typeof a=="object"&&(a="",c=a);if(typeof a!="string"||typeof c!="object")return;c&&(A(c["search-form"]),A(c["booking-form"]));for(var d in c)c.hasOwnProperty(d)&&b.integration.__cq.push(["embed",a,d,c[d]])}var c=b.ns("travelline.integration"),d=1,e=[],f=!!0,g=["travelline.local"],h="/public-int/integration/component-loader.js?v=becfa50e",i="ibe.tlintegration.com",j=0,k="prod",l="ru";if(c.__bsloaded)return;c.__bsloaded=!0;var m=a.document,n=a.location,o=n.protocol,p=o==="https:",q=a.decodeURIComponent;p||(o="http:");var r=0,s=1;c.__cq=c.__cq||[];var t=u("tl-host");t&&t!=i&&(j=y(t))&&(e=[],i=t),c.SCHEME=o,c.TRAVELLINE_HOST=i,c.HTTPS_SUPPORTED=d,c.DEV_MODE=j,c.ENV=k,c.BF_CDN_KEY=l,c.getQueryParam=u,c.getBaseUrl=v,c.setUrlParam=w,c.setContext=B,c.embed=C,z(v(!0)+h)})(window,TL);;
